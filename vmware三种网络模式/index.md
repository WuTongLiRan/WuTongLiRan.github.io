# 

# VMware三种网络模式

## 基础知识

![](https://pic.imgdb.cn/item/64a383731ddac507cc508fd1.jpg)

### 虚拟交换机

**虚拟机交换机的作用：让相同模式的虚拟机相互连接  **

| 虚拟交换机 | 用途       |
| ---------- | ---------- |
| VMnet0     | 桥接模式   |
| VMnet1     | 仅主机模式 |
| VMnet8     | NAT模式    |

### 虚拟网卡

**虚拟机网卡的作用：让主机和虚拟机相互连接  **

| 虚拟网卡                      | 用途       |
| ----------------------------- | ---------- |
| VMware Network Adapter VMnet1 | 仅主机模式 |
| VMware Network Adapter VMnet8 | NAT模式    |

## VMware三种网络模式

1. **桥接模式**（Bridge）
2. **NAT模式**（NAT：Network Address Translation）
3. **仅主机模式**（Host-Only）

### 桥接模式  

![](https://pic.imgdb.cn/item/64a385851ddac507cc54ec65.jpg)

#### 通信方式

1. 虚拟机通过连接到虚拟机交换机，利用虚拟网桥连接到主机的网卡(与主机共用网卡)
2. 它不需要用到虚拟网卡，所以没有VMware Network Adapter VMnet0

#### 特点

1. 物理机和虚拟机地位平等
2. 虚拟机占用一个独立IP
3. 使用物理机的网卡访问互联网

#### 配置

虚拟机IP网段和主机一致

#### 连通情况

1. 主机和虚拟机可以访问
2. 虚拟机之间可以相互访问
3. 可以访问互联网
4. 可以访问其他主机
5. 其他主机可以访问本虚拟机

#### 使用场景

创建一个虚拟服务器在内网提供网络服务

### NAT模式  

![](https://pic.imgdb.cn/item/64a386b31ddac507cc577ef3.jpg)

#### 通信方式

1. 虚拟NAT设备（虚拟路由）连接到VMnet8虚拟交换机——虚拟机联网用
2. 主机通过VMware Network Adapter VMnet8虚拟网卡连接到VMnet8虚拟交换机——主机和虚拟机连接用

#### 特点

1. 虚拟机在外部网络中没有自己的IP地址
2. 虚拟NAT设备会把专用网络中的 IP 地址转换为主机系统的 IP 地址——网络地址转换
3. 主机可以联网，虚拟机就可以联网

#### 连通情况

1. 主机和虚拟机可以访问
2. 虚拟机之间可以相互访问
3. 可以访问互联网
4. 本机虚拟机可以访问其他主机
5. 其他主机**不能**访问本机虚拟机。解决办法：共享网络、端口映射

#### 使用场景

大部分情况



### 仅主机模式

![](https://pic.imgdb.cn/item/64a38b9d1ddac507cc61be01.jpg)

#### 通信方式

主机使用VMware Network Adapter VMnet1虚拟网卡连接到VMnet1虚拟交换机

#### 特点

没有了NAT设备（虚拟路由），所以**不能上网**

#### 连通情况

1. 主机和虚拟机可以访问
2. 虚拟机之间可以相互访问
3. **不能**访问互联网
4. **不能**访问其他主机
5. 其他主机**不能**访问本机虚拟机

#### 使用场景

创建一个与其他机器隔离的网络
